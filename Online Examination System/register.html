<!DOCTYPE html>
<html>
<head>
	<title>register Form</title>
	<link rel="stylesheet" type="text/css" href="login.css">
	<link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
	<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
	<div class="container">
        <div class="img">
            <img src="images/reg.jpg">
        </div>
        <div class="login-content">
            <form id="registerForm">
                <h2 class="title">Register</h2>
                <div class="input-div">
                    <span class="icon"><ion-icon name="person-circle"></ion-icon></span>
                    <div class="div">
                        <select id="userType" class="input" >
                            <option value="" disabled selected >User Type</option>
                            <option value="student">Student</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>
                </div>
                <div class="error-message" id="userTypeError"></div>

                <div class="input-div">
                    <span class="icon"><ion-icon name="person"></ion-icon></span>
                    <div class="div">
                        <h5>Full Name</h5>
                        <input type="text" id="fullName" class="input" >
                    </div>
                </div>
                <div class="error-message" id="fullNameError"></div>

                <div class="input-div">
                    <span class="icon"><ion-icon name="mail"></ion-icon></span>
                    <div class="div">
                        <h5>Email</h5>
                        <input type="email" id="email" class="input" >
                    </div>
                </div>
                <div class="error-message" id="emailError"></div>

                <div class="input-div">
                    <span class="icon"><ion-icon name="person"></ion-icon></span>
                    <div class="div">
                        <h5>Username</h5>
                        <input type="text" id="username" class="input" >
                    </div>
                </div>
                <div class="error-message" id="usernameError"></div>

                <div class="input-div">
                    <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
                    <div class="div">
                        <h5>Password</h5>
                        <input type="password" id="password" class="input" >
                    </div>
                </div>
                <div class="error-message" id="passwordError"></div>

                <div class="input-div">
                    <span class="icon"><ion-icon name="lock-closed"></ion-icon></span>
                    <div class="div">
                        <h5>Confirm Password</h5>
                        <input type="password" id="confirmPassword" class="input" >
                    </div>
                </div>
                <div class="error-message" id="confirmPasswordError"></div>

                <div id="successMessage" class="success-message"></div>

                <button type="submit" class="btn">Register</button>
                <p>Already have an account? <a href="studentlogin.html">Login</a></p>
            </form>
        </div>
    </div>
    <script type="text/javascript" src="login.js"></script>
	<script>
        // document.addEventListener("DOMContentLoaded", function() {
        //     const registerForm = document.getElementById("registerForm");
        //     const userType = document.getElementById("userType");
        //     const fullName = document.getElementById("fullName");
        //     const email = document.getElementById("email");
        //     const username = document.getElementById("username");
        //     const password = document.getElementById("password");
        //     const confirmPassword = document.getElementById("confirmPassword");

        //     const userTypeError = document.getElementById("userTypeError");
        //     const fullNameError = document.getElementById("fullNameError");
        //     const emailError = document.getElementById("emailError");
        //     const usernameError = document.getElementById("usernameError");
        //     const passwordError = document.getElementById("passwordError");
        //     const confirmPasswordError = document.getElementById("confirmPasswordError");
        //     const successMessage = document.getElementById("successMessage");

        //     registerForm.addEventListener("submit", function(event) {
        //         event.preventDefault();

        //         // Clear previous messages
        //         userTypeError.textContent = '';
        //         fullNameError.textContent = '';
        //         emailError.textContent = '';
        //         usernameError.textContent = '';
        //         passwordError.textContent = '';
        //         confirmPasswordError.textContent = '';
        //         successMessage.textContent = '';

        //         // Basic validation checks
        //         let isValid = true;

        //         if (!userType.value) {
        //             userTypeError.textContent = "Please select a user type";
        //             isValid = false;
        //         }

        //         if (!fullName.value.trim()) {
        //             fullNameError.textContent = "Please enter your full name";
        //             isValid = false;
        //         }

        //         if (!email.value.trim() || !email.validity.valid) {
        //             emailError.textContent = "Please enter a valid email address";
        //             isValid = false;
        //         }

        //         if (!username.value.trim()) {
        //             usernameError.textContent = "Please enter a username";
        //             isValid = false;
        //         }

        //         if (!password.value) {
        //             passwordError.textContent = "Please enter a password";
        //             isValid = false;
        //         }

        //         if (password.value !== confirmPassword.value) {
        //             confirmPasswordError.textContent = "Passwords do not match";
        //             isValid = false;
        //         }

        //         if (isValid) {
        //             // Show success message based on user type
        //             if (userType.value === "admin") {
        //               alert("Admin account successfully created!");
        //             } else if (userType.value === "student") {
        //                 alert("Student account successfully created!");
        //             }

        //             registerForm.reset(); // Optionally reset the form after successful submission
        //         }
        //     });
        // });
		
        document.addEventListener("DOMContentLoaded", function() {
            const registerForm = document.getElementById("registerForm");
            const userType = document.getElementById("userType");
            const fullName = document.getElementById("fullName");
            const email = document.getElementById("email");
            const username = document.getElementById("username");
            const password = document.getElementById("password");
            const confirmPassword = document.getElementById("confirmPassword");

            const userTypeError = document.getElementById("userTypeError");
            const fullNameError = document.getElementById("fullNameError");
            const emailError = document.getElementById("emailError");
            const usernameError = document.getElementById("usernameError");
            const passwordError = document.getElementById("passwordError");
            const confirmPasswordError = document.getElementById("confirmPasswordError");
            const successMessage = document.getElementById("successMessage");

            registerForm.addEventListener("submit", function(event) {
                event.preventDefault();

                // Clear previous messages
                userTypeError.textContent = '';
                fullNameError.textContent = '';
                emailError.textContent = '';
                usernameError.textContent = '';
                passwordError.textContent = '';
                confirmPasswordError.textContent = '';
                successMessage.textContent = '';

                // Basic validation checks
                let isValid = true;

                if (!userType.value) {
                    userTypeError.textContent = "Please select a user type";
                    isValid = false;
                }

                if (!fullName.value.trim()) {
                    fullNameError.textContent = "Please enter your full name";
                    isValid = false;
                }

                if (!email.value.trim() || !email.validity.valid) {
                    emailError.textContent = "Please enter a valid email address";
                    isValid = false;
                }

                if (!username.value.trim()) {
                    usernameError.textContent = "Please enter a username";
                    isValid = false;
                }

                if (!password.value) {
                    passwordError.textContent = "Please enter a password";
                    isValid = false;
                }

                if (password.value !== confirmPassword.value) {
                    confirmPasswordError.textContent = "Passwords do not match";
                    isValid = false;
                }

                if (isValid) {
                    // Store user data in local storage
                    const userData = {
                        userType: userType.value,
                        fullName: fullName.value,
                        email: email.value,
                        username: username.value,
                        password: password.value
                    };
                    localStorage.setItem('userData', JSON.stringify(userData));

                    // Show success message
                    alert( "Registration successful!");
                    registerForm.reset(); // Optionally reset the form after successful submission
                }
            });
            // if (isValid) {
            //         // Retrieve existing user data from local storage
            //         let storedUserData = JSON.parse(localStorage.getItem('userData')) || [];

            //         // Check if username already exists
            //         const userExists = storedUserData.some(user => user.username === username.value);

            //         if (userExists) {
            //             usernameError.textContent = "Username already exists. Please choose a different username.";
            //         } else {
            //             // Add new user to the array
            //             const newUser = {
            //                 userType: userType.value,
            //                 fullName: fullName.value,
            //                 email: email.value,
            //                 username: username.value,
            //                 password: password.value
            //             };
            //             storedUserData.push(newUser);

            //             // Save updated user data back to local storage
            //             localStorage.setItem('userData', JSON.stringify(storedUserData));

            //             // Show success message
            //             alert("Registration successful!");
            //             registerForm.reset(); // Optionally reset the form after successful submission
            //         }
            //     }
            // });
        });
    </script>

    </script>
</body>
</html>
